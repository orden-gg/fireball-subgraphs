specVersion: 0.0.4
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: AavegotchiDiamond
    network: matic
    source:
      address: '0x86935F11C86623deC8a25696E1C19a8659CbF95d'
      abi: AavegotchiDiamond
      startBlock: 11516320

      # startBlock: 11517655
      # startBlock: 39589045
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - User
      abis:
        - name: AavegotchiDiamond
          file: ../abis/diamond.abi.json
      eventHandlers:
        - event: BuyPortals(indexed address,indexed address,uint256,uint256,uint256)
          handler: handleBuyPortals
        - event: TransferSingle(indexed address,indexed address,indexed address,uint256,uint256)
          handler: handleTransferSingle
        - event: TransferBatch(indexed address,indexed address,indexed address,uint256[],uint256[])
          handler: handleTransferBatch
        - event: PortalOpened(indexed uint256)
          handler: handlePortalOpened
        - event: MintPortals(indexed address,indexed address,uint256,uint256,uint256)
          handler: handleMintPortals
        - event: Xingyun(indexed address,indexed address,uint256,uint256,uint256)
          handler: handleXingyun
        - event: TransferFromParent(indexed address,indexed uint256,indexed uint256,uint256)
          handler: handleTransferFromParent
        - event: TransferToParent(indexed address,indexed uint256,indexed uint256,uint256)
          handler: handleTransferToParent
        - event: ClaimAavegotchi(indexed uint256)
          handler: handleClaimAavegotchi
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
        - event: ERC1155ExecutedToRecipient(indexed uint256,indexed address,indexed address)
          handler: handleERC1155ExecutedToRecipient
        - event: SpendSkillpoints(indexed uint256,int16[4])
          handler: handleSpendSkillpoints
        - event: GotchiLendingAdd(indexed uint32)
          handler: handleGotchiLendingAdd
        - event: GotchiLendingCancel(indexed uint32,uint256)
          handler: handleGotchiLendingCancel
        - event: GotchiLendingExecute(indexed uint32)
          handler: handleGotchiLendingExecute
        - event: GotchiLendingExecuted(indexed uint32,indexed address,indexed address,uint32,uint96,uint32,uint8[3],address,address,uint32,address[],uint256)
          handler: handleGotchiLendingExecuted
        - event: GotchiLendingEnd(indexed uint32)
          handler: handleGotchiLendingEnd
        - event: GotchiLendingEnded(indexed uint32,indexed address,indexed address,uint32,uint96,uint32,uint8[3],address,address,uint32,address[],uint256)
          handler: handleGotchiLendingEnded
      file: ./src/mappings/diamond.ts
